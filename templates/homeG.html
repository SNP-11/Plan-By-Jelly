<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta charset="UTF-8">
        <!-- Current user context for tutorial -->
        <meta name="uid" content="{{ session.get('uid') }}">
        <meta name="username" content="{{ session.get('username') }}">

        <meta name="description" content="A simple and elegant task management system.">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/css/bootstrap.min.css" integrity="sha512-jnSuA4Ss2PkkikSOLtYs8BlYIeeIK1h99ty4YfvRPAlzr377vr3CXDb7sb7eEEBYjDtcYj+AjBH3FLv5uSJuXg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
      <link rel="stylesheet" href="{{ url_for('static', filename='css/home.css') }}">
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
      <link rel="stylesheet" href="{{ url_for('static', filename='css/sunday.css') }}">
      <!-- <script src="{{ url_for('static', filename='js/modal.js') }}"></script> -->
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>      <link
          href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
          rel="stylesheet">
        <!-- Flatpickr CSS -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
        <!-- Flatpickr JS -->
        <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
        <!-- Flatpickr Core CSS -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
        <!-- Flatpickr Dark Theme -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/themes/dark.css">

        <!-- Tutorial CSS -->
        <link rel="stylesheet" href="{{ url_for('static', filename='css/tour.css') }}">

        <script>
            let tasks = {};
        </script>
        <title>HOME</title>
    </head>
    <body data-bs-theme="dark">
        <button id="toggleButton" class="toggle-btn" onclick="toggleMenu()">&#9681;</button>

        <!-- Tutorial Help Button -->
        <button id="helpButton" class="help-btn" onclick="startTutorial()" title="Start Tutorial">
            <span class="material-icons">help</span>
        </button>

    <div id="container" class="main-container">
        <div id="sideMenu" class="side-menu">
            <a href="/calendar">CALENDAR</a>
            <a href="/timeout">TIMEOUT</a>
            <a href="/reward">ACHIEVEMENTS</a>
            <a href="/donut">PB&J</a>
            <a href="/signout">LOG OUT</a>
            <a href="https://forms.gle/hpjWTyawZrB9M8Zq8" target="_blank">REVIEW ME</a>

        </div>
        <div id="mainContent" class="main-content">
            <div id="header" class="header">
                <span class="material-icons">ðŸ”¥</span> Streak: <span id="streaks"></span>
                &nbsp;&nbsp; <!-- Add two non-breaking spaces -->
                <span class = "material-icons">ðŸŒŸ</span>Points:<span id = "comp_points"></span>
                &nbsp;&nbsp;
                <button id="ai-insights-btn" class="btn btn-sm btn-outline-info" style="font-size: 12px;">
                    ðŸ¤– AI Insights
                </button>
             </div>
            <div class="week-navigation">
                <span id="prevWeek" class="material-icons"><mark>chevron_left</mark></span>
                <span id="nextWeek" class="material-icons"><mark>chevron_right</mark></span>
            </div>
            <div class="schedule-wrapper mx-md-6">
                <div class="schedule-row row">
                    <!-- Column for Day 1 -->
                    <div class="col">
                        <div class="weekdays">
                            <label id="day1"></label>
                        </div>
                        <div class="wrapper">
                            <div class="content" id="column1">
                                <span id="receivedMessage"></span>
                            </div>
                        </div>
                        <button id="openModalBtn" class="material-icons text-black">add</button>
                        <div id="myModal" class="modal">
                          <div id="modalContent" class="modal-content">
                              <div id="modalBody">
                                <div class = "row">
                                    <div class = "col-4">
                                        <!-- <label for="urgency">   Urgency:</label> -->
                                        <select id = "urgency" class="form-select">
                                            <option>Very Important</option>
                                            <option>Important</option>
                                            <option>Not Important</option>
                                        </select>
                                    </div>
                                    <div class = "col-7">
                                        <input type="text" class="label-input form-control" id="label-input" name="label" required placeholder="title">
                                    </div>
                                    <div class = "col-1">
                                        <span id="closeBtn" class="close" style = "width:fit-content"><span class="material-symbols-outlined">
                                            close
                                            </span></span>
                                    </div>
                                </div>
                               <div class="wrapper sunday-modal-content">
                                    <div class="input-container">
                                        <div class="input-group">
                                            <div style="display: flex; align-items: center; justify-content: center; position: relative; width: 100%;">
                                                <!-- Star positioned absolutely to the left -->
                                                <div class="star-checkbox-container" style="position: absolute; left: 0;">
                                                    <input type="checkbox" id="save_task" class="star-checkbox">
                                                    <label for="save_task" class="star-label material-icons">star</label>
                                                </div>
                                                <!-- AI Suggestion Button - Centered -->
                                                <button type="button" id="ai-suggest-btn" class="btn btn-outline-light" style="font-size: 14px; padding: 8px 16px; border-radius: 6px; background: rgba(245,245,245,0.1); border: 1px solid rgba(245,245,245,0.3); color: #f5f5f5; transition: all 0.2s;">
                                                    ðŸ¤– Get AI Time Suggestion
                                                </button>
                                            </div>
                                            <!-- Completion Button in Top Left -->
                                            <div class="completion" id="checkmark" style="margin-bottom: 20px;">
                                                <input
                                                    type="button"
                                                    class="completion-button"
                                                    id="completion-button"
                                                    value="âš¡Completeâš¡"
                                                    style="border-color: #ffe600; color: white; border-radius: 7px; margin-left:119px; border-width: 2px; padding: 7px 90px; font-size: 16px; cursor: pointer; display: inline-flex; align-items: center; justify-content: center; gap: 6px;"
                                                >

                                            </div>


                                            <!-- Time Inputs and Buttons Row -->
                                            <div class="task-input-wrapper">
                                                <!-- Start and End Time Inputs with Labels -->
                                                <div class="task-input-group" style="display: flex; gap: 15px;">
                                                    <div class="datetime-field" style="display: flex; flex-direction: column;">
                                                        <label for="start_time" style="color: white; margin-bottom: 4px;">Start Time:</label>
                                                        <input type="text" id="start_time" name="start_time" class="form-control datetime-input">
                                                    </div>
                                                    <div class="datetime-field" style="display: flex; flex-direction: column;">
                                                        <label for="end_time" style="color: white; margin-bottom: 4px;">End Time:</label>
                                                        <input type="text" id="end_time" name="end_time" class="form-control datetime-input">
                                                    </div>
                                                </div>

                                                <!-- Add & Remove Buttons -->
                                                <div class="button-group">
                                                    <button class="add-button" id="addButton" type="button" style="margin-top: 29px">
                                                        <span class="material-symbols-outlined" style="font-size:30px">add</span>
                                                    </button>
                                                    <button id="removeButton" class="icon-button" style = "margin-top:34px">
                                                        <span class="material-symbols-outlined">delete</span>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Accordion Section -->
                                    <div id="autoCompletes">
                                        <div class="accordion d-none" id="dummyAccordion">
                                            <div class="accordion-item">
                                                <h2 class="accordion-header">
                                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" aria-expanded="false" aria-controls="collapseOne">
                                                        Accordion Item #1
                                                    </button>
                                                </h2>
                                                <div id="collapseOne" class="accordion-collapse collapse">
                                                    <div class="accordion-body">
                                                        <div class="date-label"> </div>
                                                        <div class="date-urgency"></div>
                                                        <button class="autoCompleteButton">ADD</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                              </div> <!-- This is where we will load sunday.html content -->
                          </div>
                      </div>
                    </div>

                    <!-- Column for Day 2 -->
                    <div class="col">
                        <div class="weekdays">
                            <label id="day2"></label>
                        </div>
                        <div class="wrapper">
                            <div class="content" id="column2"></div>
                        </div>
                    </div>

                    <!-- Column for Day 3 -->
                    <div class="col">
                        <div class="weekdays">
                            <label id="day3"></label>
                        </div>
                        <div class="wrapper">
                            <div class="content" id="column3"></div>
                        </div>
                    </div>

                    <!-- Column for Day 4 -->
                    <div class="col">
                        <div class="weekdays">
                            <label id="day4"></label>
                        </div>
                        <div class="wrapper">
                            <div class="content" id="column4"></div>
                        </div>
                    </div>

                    <!-- Column for Day 5 -->
                    <div class="col">
                        <div class="weekdays">
                            <label id="day5"></label>
                        </div>
                        <div class="wrapper">
                            <div class="content" id="column5"></div>
                        </div>
                    </div>

                    <!-- Column for Day 6 -->
                    <div class="col">
                        <div class="weekdays">
                            <label id="day6"></label>
                        </div>
                        <div class="wrapper">
                            <div class="content" id="column6"></div>
                        </div>
                    </div>

                    <!-- Column for Day 7 -->
                    <div class="col">
                        <div class="weekdays">
                            <label id="day7"></label>
                        </div>
                        <div class="wrapper">
                            <div class="content" id="column7"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

        <script src="{{ url_for('static', filename='js/ai-integration.js') }}"></script>
        <script src="{{ url_for('static', filename='js/home.js') }}"></script>
        <script src="{{ url_for('static', filename='js/actionable.js') }}"></script>
        <script src="{{ url_for('static', filename='js/home-tour.js') }}"></script>
        <script>
            flatpickr("#start_time", {
                enableTime: true,
                dateFormat: "n/j--h:i K",  // Format: 8/21--3:45 PM (h = 12-hour format)
                theme: "dark",
                time_24hr: false  // Use 12-hour format with AM/PM
            });

            flatpickr("#end_time", {
                enableTime: true,
                dateFormat: "n/j--h:i K",  // Format: 8/21--3:45 PM (h = 12-hour format)
                theme: "dark",
                time_24hr: false  // Use 12-hour format with AM/PM
            });
        </script>


<!-- Modal -->
<!-- <div class="modal fade" id="autoOpenModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-QOTD">
            <div class="modal-content modal-content-QOTD">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">QUOTE OF THE DAY</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">

                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
</div> -->


        <!-- <script>
           document.addEventListener("DOMContentLoaded", function () {
            var modalElement = document.getElementById("autoOpenModal");
            var modalInstance = new bootstrap.Modal(modalElement);

            // Open the modal
            modalInstance.show();

        }); -->

        <!-- </script> -->
        <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    </body>
</html>


